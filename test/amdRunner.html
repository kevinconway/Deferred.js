<html>

    <head>

        <title>Deferred Tests</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <link rel="stylesheet" href="./lib/style.css" />

        <script>
            if(typeof String.prototype.trim !== 'function') {
                String.prototype.trim = function() {
                    return this.replace(/^\s+|\s+$/g, '');
                }
            }
        </script>

        <script src="./lib/mocha.js"></script>
        <script src="./lib/require.js"></script>

        <script>
            requirejs.config({
                shim: {
                    'lib/expect': {

                        deps: [],

                        exports: 'expect'
                    }
                }
            });
            require(['deferred.spec.js'], function () {});
        </script>

        <script>

            mocha.setup({
                ui: 'bdd',
                globals: [],
                timeout: 1500
            });
        </script>

        <script>
            function assert(expr, msg) {
                if (!expr) throw new Error(msg || 'failed');
            }
        </script>

        <script>
            setTimeout(mocha.run, 1000);
        </script>

    </head>

    <body>
    <div id="mocha"></div>
    </body>

</html>
